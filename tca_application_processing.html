<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Thiagarajar Group of Institutions - MQ processing Dashboard</title>
  <link rel="stylesheet" href="upcoming_request.css">
</head>

<body>
<header>
  <div class="header-content">
    <h1>Application Processing</h1>
    <div class="nav-bar">
      <div class="left-buttons">

        <button class="nav-btn" onclick="showSeatPopup()">Remaining Seats</button>
        <!-- <button onclick="fetchAndRenderStudents('UNALLOCATED')">Requested</button> -->
        <button onclick="window.location.href='completed.html'">Application Status</button>
        <div class="filter-sort-wrapper">
  <button class="filter-sort-toggle" onclick="toggleFilterSort()">Search Specific</button>
  <div id="filterSortPanel" class="filter-sort-panel">
    <select id="recommenderFilter" onchange="filterByRecommender()" class="filter-dropdown">
      <option value="">-- Select Recommender --</option>
      <!-- JS dynamically populates this -->
    </select>

    <select id="combinedFilter" onchange="filterByCombined()" class="filter-dropdown">
      <option value="all">-- All Departments and Degrees --</option>
      <option value="Clear">-- Clear Filter --</option>
    </select>

  </div>
</div>
      </div>
      <div class="right-buttons">
        <button class="nav-btn" onclick="goHome()">Logout</button>
        <button class="nav-btn" onclick="goBack()">Back</button>
        
      </div>
      
    </div>
  </div>
</header>
<div class="search-container">
  <input id="searchInput" class="input-box" placeholder="Search for details..." />
  <button class="submit-input" onclick="handleSearch('UNALLOCATED')">Search</button>
  <button class="clear-input" onclick="clearSearch()">Clear</button>
</div>

<div id="seatPopup">
  <h3>Seat Status</h3>
  <table border="1" width="100%" id="seatTable">
    <thead>
      <tr>
        <th>S.No</th>
        <th>Course Name</th>
        <th>Total Seats</th>
        <th>Allocated Seats</th>
        <th>Remaining Seats</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <br>
  <button onclick="closeSeatPopup()">Close</button>
</div>


  <div class="content" id="studentList">
    <!-- Cards will be injected here -->
  </div>
   <div id="declineModal" class="modal">
    <div class="modal-content">
      <h3>Decline Reason</h3>
      <textarea id="declineComment" placeholder="Enter reason..." rows="4" style="width:100%;"></textarea>
      <br/>
      <button onclick="submitDecline()">Submit</button>
      <button onclick="closeDeclineModal()">Cancel</button>
    </div>
  </div>

  <div id="popup-overlay" class="popup-overlay" style="display:none">
    <div class="popup">
      <label for="branchSelect">Choose Branch:</label>
      <select id="branchSelect">
        <option value="CSE">CSE</option>
        <option value="IT">IT</option>
        <option value="ECE">ECE</option>
      </select>

      <label for="modeSelect">Select Mode:</label>
      <select id="modeSelect">
        <option value="Aided">Aided</option>
        <option value="Self Finance">Self Finance</option>
      </select>

      <button onclick="confirmSelection()">Confirm</button>
      <button onclick="closeSelectionModal()">Cancel</button>
    </div>
  </div>
<!-- View More Popup -->
<div id="viewMoreOverlay" class="popup-overlay" style="display: none;">
    <div class="popup bordered-popup">
      <h2 class="popup-title">Student Application Details</h2>
      <div class="form-two-column" id="viewMoreContent"></div>
      <button onclick="closeViewMore()" class="close-btn">Close</button>
    </div>
  </div>
<script src="env.js"></script>
  <script src="tca_application_processing.js"></script>
</body>

</html>